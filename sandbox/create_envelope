require 'bundler'

Bundler.require

DocusignRest.configure do |config|
  config.username       = 'gmhawash@gmail.com'
  config.password       = 'WhatIs25*25'
  config.integrator_key = 'RFXX-5e8080a0-88d3-4c41-94b6-d01674c2c4d8'
  config.account_id     = '443799'
  config.endpoint       = 'https://demo.docusign.net/restapi'
  config.api_version    = 'v2'
end

client = DocusignRest::Client.new
puts client.get_account_id

response = client.create_envelope_from_document(
  email: {
    subject: 'Sign me please',
    body: 'This is the email body from docusign.'
  },
  # If embedded is set to true in the signers array below, emails don't go out
  # and you can embed the signature page in an iFrame by using the
  # get_recipient_view method
  signers: [
    {
      # embedded: true,
      name: 'Test Guy',
      email: 'mhawash@renewfund.com',
      #role_name: 'Administrator',
    },
  ],
  files: [
    { path: '/Users/mhawash/src/rpace/sandbox/docu_sign/test.pdf', name: 'test.pdf' },
  ],
  status: 'sent'
)

puts response #the response is a parsed JSON string
